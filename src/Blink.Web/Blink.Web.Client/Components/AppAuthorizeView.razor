<AuthorizeView>
    <Authorized>
        @if (ChildContent is not null)
        {
            @ChildContent?.Invoke(CurrentUser.FromClaims(context.User.Claims.ToList()))
        }
        @if (Authorized is not null)
        {
            @Authorized?.Invoke(CurrentUser.FromClaims(context.User.Claims.ToList()))
        }
    </Authorized>
    <NotAuthorized>
        @NotAuthorized
    </NotAuthorized>
</AuthorizeView>

@code {
    [Parameter]
    public RenderFragment<CurrentUser>? ChildContent { get; set; }
    
    [Parameter]
    public RenderFragment<CurrentUser>? Authorized { get; set; }
    
    [Parameter]
    public RenderFragment? NotAuthorized { get; set; }

    protected override void OnParametersSet()
    {
        if (ChildContent is not null && (Authorized is not null || NotAuthorized is not null))
        {
            throw new InvalidOperationException($"Cannot set both {nameof(ChildContent)} and {nameof(Authorized)}/{nameof(NotAuthorized)}.");
        }
    }
}