@page "/"
@inject BlinkApiClient ApiClient

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

@if (Message is null)
{
    <p><em>Loading...</em></p>
}
else
{
    <p>@Message</p>
}

<AuthorizeView>
    <ul>
        @foreach (var claim in context.User.Claims)
        {
            <li>@claim.Type = @claim.Value</li>
        }
    </ul>
</AuthorizeView>

@code {
    private string? Message { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Message = await ApiClient.GetTestMessage();
    }
}