@page "/videos/upload"
@inject BlinkApiClient ApiClient
@inject IConfiguration Configuration
@inject ILogger<VideoUpload> Logger
@inject NavigationManager NavigationManager
@attribute [Authorize]

<PageTitle>Video Upload</PageTitle>

<h1>Video Upload</h1>

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5>Upload Your Video</h5>
                </div>
                <div class="card-body">
                    <form method="post"
                          enctype="multipart/form-data"
                          action="/api/videos/upload"
                          class="needs-validation"
                          novalidate>
                        <div class="mb-3">
                            <label for="videoTitle" class="form-label">Video Title</label>
                            <input type="text" class="form-control" name="videoTitle" />
                        </div>

                        <div class="mb-3">
                            <label for="videoDescription" class="form-label">Description (Optional)</label>
                            <textarea class="form-control" name="videoDescription" rows="3" maxlength="2000"></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="videoDate" class="form-label">Video Date (Optional)</label>
                            <input type="date" class="form-control" name="videoDate" />
                        </div>

                        <div class="mb-3">
                            <label for="videoFile" class="form-label">Select Video File</label>
                            <input type="file" class="form-control" name="videoFile" accept=".mp4" />
                        </div>

                        <button type="submit" class="btn btn-primary btn-lg">Upload Video</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5>Instructions</h5>
                </div>
                <div class="card-body">
                    <ol>
                        <li class="mb-2">Click "Choose File" to select a video from your device</li>
                        <li class="mb-2">Review the file details to ensure it's the correct video</li>
                        <li class="mb-2">Click "Upload Video" to start the upload process</li>
                        <li class="mb-2">Wait for the upload to complete</li>
                    </ol>

                    <hr />

                    <h6>Tips:</h6>
                    <ul class="small">
                        <li>Ensure your video file is under 2GB</li>
                        <li>Supported formats include MP4</li>
                        <li>Do not close or refresh the page during upload</li>
                        <li>Upload times vary based on file size and connection speed</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
